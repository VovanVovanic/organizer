(this.webpackJsonporganizer=this.webpackJsonporganizer||[]).push([[0],{110:function(t,e,n){},143:function(t,e,n){"use strict";n.r(e);var a,i,s,c=n(0),r=n.n(c),o=n(9),d=n.n(o),l=(n(110),n(11)),u=n(178),j=n(200),f=n(182),b=n(201),p=n(184),h=n(202),m=n(185),O=n(181),g=n(31),x=n(87),y=n.n(x).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"ab1b860e-9865-4320-8135-23abb9a648e8"}}),v=function(){return y.get("todo-lists").then((function(t){return t.data}))},k=function(t){return y.post("todo-lists",{title:t}).then((function(t){return t.data}))},I=function(t){return y.delete("todo-lists/".concat(t))},C=function(t,e){return y.put("todo-lists/".concat(t),{title:e}).then((function(t){return t.data}))},T=function(t){return y.get("todo-lists/".concat(t,"/tasks"))},w=function(t,e){return y.delete("todo-lists/".concat(t,"/tasks/").concat(e))},_=function(t,e){return y.post("todo-lists/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data}))},S=function(t,e,n){return y.put("todo-lists/".concat(t,"/tasks/").concat(e),n).then((function(t){return t.data}))},A=function(t,e,n){return y.post("auth/login/",{email:t,password:e,rememberMe:n}).then((function(t){return t.data}))},E=function(){return y.get("auth/me").then((function(t){return t.data}))},L=function(){return y.delete("auth/login").then((function(t){return t.data}))};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(i||(i={})),function(t){t[t.Success=0]="Success",t[t.Error=1]="Error",t[t.Captcha=10]="Captcha"}(s||(s={}));var F=function(t,e){t.messages.length?e(B({error:t.messages[0]})):e(B({error:"Some error occurred"})),e(M({status:"failed"}))},N=function(t,e){e(B({error:t.message})),e(M({status:"failed"}))},P=Object(g.b)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{setAppStatus:function(t,e){t.status=e.payload.status},setAppInitialized:function(t,e){t.isInitialized=e.payload.init},setAppError:function(t,e){t.error=e.payload.error}}}),D=P.reducer,z=P.actions,B=z.setAppError,M=z.setAppStatus,J=z.setAppInitialized,H=Object(g.b)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(t,e){t.isLoggedIn=e.payload.value}}}),R=H.reducer,W=H.actions.setIsLoggedIn,Z=n(2),K=function(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.auth.isLoggedIn})),n=Object(u.a)((function(t){return Object(j.a)({root:{display:"flex","& > *":{margin:t.spacing(1)}},purple:{color:t.palette.getContrastText(O.a[500]),backgroundColor:O.a[500]}})}))(),a=e?Object(Z.jsx)(f.a,{color:"secondary",variant:"contained",onClick:function(){return t((function(t){t(M({status:"loading"})),L().then((function(e){0===e.resultCode?(t(W({value:!1})),t(M({status:"succeeded"}))):F(e,t)})).catch((function(e){N(e,t)}))}))},children:"Logout"}):Object(Z.jsx)(b.a,{className:n.purple,children:"HI"});return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(p.a,{style:{background:"rgba(31, 58, 147, .9)",padding:"5px 40px"},children:Object(Z.jsx)(h.a,{control:a,label:""})}),Object(Z.jsx)(m.a,{position:"static",color:"primary",children:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h1",{children:"organizer"}),Object(Z.jsx)("h3",{children:"handle your daily tasks properly"})]})})]})},U=n(57),X=n.n(U),q=n(193),G=n(194),V=n(21),Y=n(199),Q=n(196);function $(t){return Object(Z.jsx)(Q.a,Object(V.a)({elevation:6,variant:"filled"},t))}function tt(){var t=Object(l.c)((function(t){return t.app.error}));console.log(t);var e=Object(l.b)(),n=function(t,n){"clickaway"!==n&&e(B({error:null}))};return Object(Z.jsx)(Y.a,{open:null!==t,autoHideDuration:6e3,onClose:n,children:Object(Z.jsx)($,{onClose:n,severity:"error",children:t})})}var et=n(191),nt=n(190),at=n(144),it=n(16),st=Object(g.b)({name:"todos",initialState:[],reducers:{addTodolist:function(t,e){t.unshift(Object(V.a)(Object(V.a)({},e.payload.todolists),{},{filter:"all",entityStatus:"idle"}))},removeTodolist:function(t,e){return t.filter((function(t){return t.id!==e.payload.todolistId}))},changeTodolistTitle:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].title=e.payload.title},changeTodolistFilter:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].filter=e.payload.filter},changeListEntity:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].entityStatus=e.payload.status},setTodolists:function(t,e){return e.payload.todolists.map((function(t){return Object(V.a)(Object(V.a)({},t),{},{filter:"all",entityStatus:"idle"})}))}}}),ct=st.reducer,rt=st.actions,ot=rt.addTodolist,dt=rt.removeTodolist,lt=rt.changeTodolistTitle,ut=rt.changeTodolistFilter,jt=rt.changeListEntity,ft=rt.setTodolists,bt=n(43),pt=n(195),ht=n(186),mt=n(189),Ot=n(65),gt=n.n(Ot),xt=r.a.memo((function(t){var e=t.addTitle,n=t.name,a=t.type,i=t.placeholder,s=t.disabled,r=Object(c.useState)(!1),o=Object(bt.a)(r,2),d=o[0],l=o[1],u=[gt.a.formButton];a&&u.push(gt.a[a]);var j=Object(c.useState)(null),f=Object(bt.a)(j,2),b=f[0],p=f[1],h=Object(c.useState)(""),m=Object(bt.a)(h,2),O=m[0],g=m[1],x=function(){""!==O.trim()?(e(O),p(null)):p("Title is required"),g(""),l(!0)};return Object(Z.jsxs)("div",{className:gt.a.AddFormWrap,children:[Object(Z.jsx)(pt.a,{variant:"standard",error:!!b,helperText:b,value:O,onChange:function(t){g(t.currentTarget.value),null!==b&&p(null)},onKeyDown:function(t){"Enter"===t.key&&x(),"Escape"===t.key&&g(""),l(!0)},style:{width:"80%"},placeholder:i,disabled:s,autoFocus:d}),Object(Z.jsxs)(ht.a,{disabled:s,color:"primary",onClick:x,children:[Object(Z.jsx)(mt.a,{}),n]})]})})),yt=n(92),vt=n.n(yt),kt=function(t){var e=t.changeFilterClick,n=t.active,a=[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Completed",value:"completed"}].map((function(t){var a=t.label,i=t.value,s=n===i?vt.a.Active:"";return Object(Z.jsx)(f.a,{className:s,onClick:function(){return function(t){e(t)}(i)},color:"primary",variant:"outlined",children:a},i)}));return Object(Z.jsx)(nt.a,{container:!0,justify:"space-between",style:{width:"100%",marginTop:"20px"},children:a})},It=n(72),Ct=n.n(It),Tt=r.a.memo((function(t){var e=t.value,n=t.changeTitle,a=t.type,i=t.disabled,s=Object(c.useState)(!1),r=Object(bt.a)(s,2),o=r[0],d=r[1],l=Object(c.useState)(e),u=Object(bt.a)(l,2),j=u[0],f=u[1],b=[Ct.a.Span];a&&b.push(Ct.a[a]);var p=Object(c.useCallback)((function(){""!==j.trim()&&n&&n(j)}),[n,j]),h=function(){p(),d(!1)};return Object(Z.jsx)(Z.Fragment,{children:o?Object(Z.jsx)(pt.a,{disabled:i,variant:"standard",type:"text",value:j,autoFocus:!0,onBlur:h,onChange:function(t){f(t.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&h(),"Escape"===t.key&&(f(e),d(!1))}}):Object(Z.jsx)("span",{onDoubleClick:function(){d(!0)},className:b.join(" "),children:e})})})),wt=n(197),_t=n(62),St=n.n(_t),At=Object(g.b)({name:"todos",initialState:{},reducers:{setTasks:function(t,e){t[e.payload.todolistId]=e.payload.tasks},deleteTask:function(t,e){var n=t[e.payload.todolistId],a=n.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&n.splice(a,1)},addNewTask:function(t,e){t[e.payload.task.todoListId].unshift(e.payload.task)},changeTaskStatus:function(t,e){var n=t[e.payload.todolistId],a=n.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(n[a].status=e.payload.status)},changeTaskTitle:function(t,e){var n=t[e.payload.todolistId],a=n.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(n[a].title=e.payload.title)},changeTaskEntity:function(t,e){var n=t[e.payload.todoId],a=n.findIndex((function(t){return t.id===e.payload.id}));a>-1&&(n[a].entityStatus=e.payload.enStatus)}},extraReducers:function(t){t.addCase(dt,(function(t,e){delete t[e.payload.todolistId]})),t.addCase(ot,(function(t,e){t[e.payload.todolists.id]=[]})),t.addCase(ft,(function(t,e){e.payload.todolists.forEach((function(e){return t[e.id]=[]}))}))}}),Et=At.reducer,Lt=At.actions,Ft=Lt.setTasks,Nt=Lt.deleteTask,Pt=Lt.changeTaskStatus,Dt=Lt.changeTaskTitle,zt=Lt.changeTaskEntity,Bt=Lt.addNewTask,Mt=function(t,e,n){return function(i,s){var c=s().tasks[e].find((function(e){return e.id===t}));if(c){var r="string"===typeof n?n:null,o="number"===typeof n?n:a.New;i(zt({id:t,enStatus:"loading",todoId:e})),i(M({status:"loading"})),S(e,t,{title:null===r?c.title:r,startDate:c.startDate,priority:c.priority,description:c.description,deadline:c.deadline,status:null===o?c.status:o}).then((function(n){0===n.resultCode?(null!==o&&i(Pt({taskId:t,status:o,todolistId:e})),null!==r&&i(Dt({taskId:t,title:r,todolistId:e})),i(M({status:"succeeded"}))):F(n,i)})).catch((function(t){N({message:t.message},i)})).finally((function(){return i(zt({id:t,enStatus:"idle",todoId:e}))}))}}},Jt=r.a.memo((function(t){var e=t.id,n=t.title,i=t.status,s=t.todoListId,r=t.entityStatus,o=Object(l.b)(),d=i===a.Completed&&X.a.isDone,u=Object(c.useCallback)((function(t){o(Mt(e,s,t.currentTarget.checked?a.Completed:a.New))}),[e,s]),j=Object(c.useCallback)((function(t){o(Mt(e,s,t))}),[o,s]);return Object(Z.jsxs)(at.a,{className:X.a.Paper+" "+d,elevation:3,style:{padding:"5px 5px 5px 0"},children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)(wt.a,{checked:i===a.Completed,onChange:u,color:"primary",inputProps:{"aria-label":"secondary checkbox"},disabled:"loading"===r}),Object(Z.jsx)(Tt,{value:n,changeTitle:j,type:"listItem",disabled:"loading"===r})]}),Object(Z.jsx)(f.a,{variant:"outlined",size:"small",color:"secondary",startIcon:Object(Z.jsx)(St.a,{}),onClick:function(){var t,n;o((t=s,n=e,function(e){e(zt({id:n,enStatus:"loading",todoId:t})),e(M({status:"loading"})),w(t,n).then((function(a){0===a.data.resultCode&&(e(Nt({todolistId:t,taskId:n})),e(M({status:"succeeded"})))})).catch((function(t){N({message:t.message},e)})).finally((function(){return e(zt({id:n,enStatus:"idle",todoId:t}))}))}))},disabled:"loading"===r,children:"task"})]})})),Ht=r.a.memo((function(t){var e=t.title,n=t.tasks,i=t.active,s=t.todoListId,r=t.entityStatus,o=Object(l.b)();Object(c.useEffect)((function(){o(function(t){return function(e){e(M({status:"loading"})),T(t).then((function(n){var a=n.data.items;e(Ft({todolistId:t,tasks:a})),e(M({status:"succeeded"}))})).catch((function(t){N({message:t.message},e)}))}}(s))}),[]);var d=Object(c.useCallback)((function(t){o(ut({id:s,filter:t}))}),[o,s]),u=Object(c.useCallback)((function(){var t;o((t=s,function(e){e(jt({id:t,status:"loading"})),e(M({status:"loading"})),I(t).then((function(n){0===n.data.resultCode&&(e(dt({todolistId:t})),e(M({status:"succeeded"})))})).catch((function(t){N({message:t.message},e)}))}))}),[o,s]),j=Object(c.useCallback)((function(t){var e,n;o((e=s,n=t,function(t){t(jt({id:e,status:"loading"})),t(M({status:"loading"})),_(e,n).then((function(n){0===n.resultCode?(t(Bt({task:n.data.item})),t(M({status:"succeeded"})),t(jt({id:e,status:"idle"}))):F(n,t)})).catch((function(n){N({message:n.message},t),t(jt({id:e,status:"idle"}))})).finally((function(){return t(jt({id:e,status:"idle"}))}))}))}),[o,s]),b=Object(c.useCallback)((function(t){o(function(t,e){return function(n){n(M({status:"loading"})),C(e,t).then((function(a){0===a.resultCode?(n(lt({id:e,title:t})),n(M({status:"succeeded"}))):F(a,n),n(M({status:"succeeded"}))})).catch((function(t){N({message:t.message},n)}))}}(t,s))}),[o,s]),p=function(t,e){switch(e){case"all":return t;case"active":return t.filter((function(t){return t.status===a.New}));case"completed":return t.filter((function(t){return t.status===a.Completed}));default:return t}}(n,i).map((function(t){var e=Object.assign({},t);return Object(Z.jsx)(Jt,Object(V.a)({},e),e.id)}));return Object(Z.jsxs)(nt.a,{container:!0,children:[Object(Z.jsxs)(nt.a,{item:!0,xs:!0,children:[Object(Z.jsx)(Tt,{value:e,changeTitle:b,type:"header"}),Object(Z.jsx)(f.a,{variant:"outlined",color:"secondary",size:"medium",startIcon:Object(Z.jsx)(St.a,{}),onClick:u,style:{marginLeft:"30px"},disabled:"loading"===r,children:"list"})]}),Object(Z.jsx)(xt,{addTitle:j,name:"task",placeholder:"type your task name",disabled:"loading"===r}),Object(Z.jsx)(nt.a,{item:!0,style:{width:"100%"},children:p}),Object(Z.jsx)(kt,{changeFilterClick:d,active:i})]})})),Rt=function(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.todolists})),n=Object(l.c)((function(t){return t.tasks})),a=Object(l.c)((function(t){return t.auth.isLoggedIn}));Object(c.useEffect)((function(){t((function(t){t(M({status:"loading"})),v().then((function(e){t(ft({todolists:e})),t(M({status:"succeeded"}))})).catch((function(e){N({message:e.message},t)}))}))}),[]);var i=Object(c.useCallback)((function(e){t(function(t){return function(e){e(M({status:"loading"})),k(t).then((function(t){0===t.resultCode?(e(ot({todolists:t.data.item})),e(M({status:"succeeded"}))):F(t,e),e(M({status:"succeeded"}))})).catch((function(t){N({message:t.message},e)}))}}(e))}),[t]);return a?Object(Z.jsxs)(et.a,{fixed:!0,children:[Object(Z.jsx)(nt.a,{container:!0,style:{padding:"30px",justifyContent:"center"},children:Object(Z.jsx)(xt,{addTitle:i,name:"todo",placeholder:"Type todo name to start"})}),Object(Z.jsx)(nt.a,{container:!0,spacing:3,style:{marginTop:"50px"},direction:"row",justify:"space-between",children:e.map((function(t){return Object(Z.jsx)(nt.a,{item:!0,style:{width:"500px"},children:Object(Z.jsx)(at.a,{style:{padding:"10px"},children:Object(Z.jsx)(Ht,{todoListId:t.id,title:t.title,tasks:n[t.id],active:t.filter,entityStatus:t.entityStatus},t.id)})},t.id)}))})]}):Object(Z.jsx)(it.a,{to:"/login"})},Wt=n(187),Zt=n(188),Kt=n(95),Ut=function(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.auth.isLoggedIn})),n=Object(Kt.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",t.password.length<2&&(e.password="Too Short password"),e},onSubmit:function(e){var a,i,s;t((a=e.email,i=e.password,s=e.rememberMe,function(t){t(M({status:"loading"})),A(a,i,s).then((function(e){0===e.resultCode?(t(M({status:"succeeded"})),t(W({value:!0}))):F(e,t)})).catch((function(e){N(e,t)}))})),n.resetForm()}});return e?Object(Z.jsx)(it.a,{to:"/"}):Object(Z.jsx)(nt.a,{container:!0,justify:"center",children:Object(Z.jsx)(nt.a,{item:!0,xs:4,children:Object(Z.jsx)("form",{onSubmit:n.handleSubmit,children:Object(Z.jsxs)(Wt.a,{children:[Object(Z.jsxs)(Zt.a,{children:[Object(Z.jsxs)("p",{children:["To log in get registered\u2002",Object(Z.jsx)("a",{href:"https://social-network.samuraijs.com/ ",target:"_blank",children:"here"})]}),Object(Z.jsx)("p",{children:"or use common test account credentials:"}),Object(Z.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(Z.jsx)("p",{children:"Password: free"})]}),Object(Z.jsxs)(p.a,{children:[Object(Z.jsx)(pt.a,Object(V.a)(Object(V.a)({label:"Email",margin:"normal"},n.getFieldProps("email")),{},{onBlur:n.handleBlur})),n.errors.email&&n.touched.email?Object(Z.jsx)("div",{style:{color:"red"},children:n.errors.email}):null,Object(Z.jsx)(pt.a,Object(V.a)(Object(V.a)({type:"password",label:"Password",margin:"normal"},n.getFieldProps("password")),{},{onBlur:n.handleBlur})),n.errors.password&&n.touched.password?Object(Z.jsx)("div",{style:{color:"red"},children:n.errors.password}):null,Object(Z.jsx)(h.a,{label:"Remember me",control:Object(Z.jsx)(wt.a,Object(V.a)({},n.getFieldProps("rememberMe")))}),Object(Z.jsx)(f.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})},Xt=n(192),qt=n.p+"static/media/404-error.7e12d563.png",Gt=function(){return Object(Z.jsx)(et.a,{children:Object(Z.jsx)(nt.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"80vh"},children:Object(Z.jsx)(Xt.a,{component:"img",alt:"404",image:qt,title:"404",style:{height:"500px"}})})})};var Vt=function(){var t=Object(l.b)();Object(c.useEffect)((function(){t((function(t){t(J({init:!1})),E().then((function(e){0===e.resultCode?t(W({value:!0})):F(e,t),t(J({init:!0}))})).catch((function(e){N(e,t)}))}))}),[]);var e=Object(l.c)((function(t){return t.app.status})),n=Object(l.c)((function(t){return t.app.isInitialized}));return console.log(n),n?Object(Z.jsxs)("div",{className:X.a.App,children:[Object(Z.jsx)(K,{}),Object(Z.jsx)(tt,{}),"loading"===e&&Object(Z.jsx)(G.a,{color:"primary",variant:"indeterminate",style:{height:"10px",backgroundColor:"#abe9cd",backgroundImage:"linear-gradient(315deg, #abe9cd 0%, #3eadcf 74%)"}}),Object(Z.jsxs)(it.d,{children:[Object(Z.jsx)(it.b,{exact:!0,path:"/",render:function(){return Object(Z.jsx)(Rt,{})}}),Object(Z.jsx)(it.b,{exact:!0,path:"/login",render:function(){return Object(Z.jsx)(Ut,{})}}),Object(Z.jsx)(it.b,{path:"*",render:function(){return Object(Z.jsx)(Gt,{})}}),Object(Z.jsx)(it.a,{from:"*",to:"/404"})]})]}):Object(Z.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(Z.jsx)(q.a,{})})},Yt=n(24),Qt=n(53),$t=Object(Yt.c)({tasks:Et,todolists:ct,app:D,auth:R}),te=Object(g.a)({reducer:$t,middleware:function(t){return t().prepend(Qt.a)}}),ee=n(52);d.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(l.a,{store:te,children:Object(Z.jsx)(ee.a,{children:Object(Z.jsx)(Vt,{})})})}),document.getElementById("root"))},57:function(t,e,n){t.exports={App:"App_App__3V4x_",Paper:"App_Paper__2iAW7",isDone:"App_isDone__e5G6X"}},65:function(t,e,n){t.exports={formButton:"form_formButton__XdhYI",AddFormWrap:"form_AddFormWrap__3Z7_S",error:"form_error__1w2Gi",Error:"form_Error__2lJnA",large:"form_large__2FEnX"}},72:function(t,e,n){t.exports={Span:"title_Span__12Jba",header:"title_header__7MTwh",listItem:"title_listItem__ndEex"}},92:function(t,e,n){t.exports={Active:"buttons_Active__22bQJ"}}},[[143,1,2]]]);
//# sourceMappingURL=main.37653de1.chunk.js.map