(this.webpackJsonporganizer=this.webpackJsonporganizer||[]).push([[0],{110:function(t,e,n){},143:function(t,e,n){"use strict";n.r(e);var a,i,s,r=n(0),c=n.n(r),o=n(9),d=n.n(o),l=(n(110),n(11)),u=n(178),j=n(199),f=n(182),b=n(200),p=n(184),h=n(201),m=n(185),O=n(181),g=n(31),x=n(87),y=n.n(x).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"ab1b860e-9865-4320-8135-23abb9a648e8"}}),v=function(){return y.get("todo-lists").then((function(t){return t.data}))},k=function(t){return y.post("todo-lists",{title:t}).then((function(t){return t.data}))},I=function(t){return y.delete("todo-lists/".concat(t))},C=function(t,e){return y.put("todo-lists/".concat(t),{title:e}).then((function(t){return t.data}))},T=function(t){return y.get("todo-lists/".concat(t,"/tasks"))},w=function(t,e){return y.delete("todo-lists/".concat(t,"/tasks/").concat(e))},_=function(t,e){return y.post("todo-lists/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data}))},S=function(t,e,n){return y.put("todo-lists/".concat(t,"/tasks/").concat(e),n).then((function(t){return t.data}))},A=function(t,e,n){return y.post("auth/login/",{email:t,password:e,rememberMe:n}).then((function(t){return t.data}))},E=function(){return y.get("auth/me").then((function(t){return t.data}))},L=function(){return y.delete("auth/login").then((function(t){return t.data}))};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(i||(i={})),function(t){t[t.Success=0]="Success",t[t.Error=1]="Error",t[t.Captcha=10]="Captcha"}(s||(s={}));var F=function(t,e){t.messages.length?e(B({error:t.messages[0]})):e(B({error:"Some error occurred"})),e(M({status:"failed"}))},N=function(t,e){e(B({error:t.message})),e(M({status:"failed"}))},P=Object(g.b)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{setAppStatus:function(t,e){t.status=e.payload.status},setAppInitialized:function(t,e){t.isInitialized=e.payload.init},setAppError:function(t,e){t.error=e.payload.error}}}),D=P.reducer,z=P.actions,B=z.setAppError,M=z.setAppStatus,J=z.setAppInitialized,H=Object(g.b)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(t,e){t.isLoggedIn=e.payload.value}}}),R=H.reducer,W=H.actions.setIsLoggedIn,Z=n(2),K=function(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.auth.isLoggedIn})),n=Object(u.a)((function(t){return Object(j.a)({root:{display:"flex","& > *":{margin:t.spacing(1)}},purple:{color:t.palette.getContrastText(O.a[500]),backgroundColor:O.a[500]}})}))(),a=e?Object(Z.jsx)(f.a,{color:"secondary",variant:"contained",onClick:function(){return t((function(t){t(M({status:"loading"})),L().then((function(e){0===e.resultCode?(t(W({value:!1})),t(M({status:"succeeded"}))):F(e,t)})).catch((function(e){N(e,t)}))}))},children:"Logout"}):Object(Z.jsx)(b.a,{className:n.purple,children:"HI"});return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(p.a,{style:{background:"rgba(31, 58, 147, .9)",padding:"5px 40px"},children:Object(Z.jsx)(h.a,{control:a,label:""})}),Object(Z.jsx)(m.a,{position:"static",color:"primary",children:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h1",{children:"organizer"}),Object(Z.jsx)("h3",{children:"handle your daily tasks properly"})]})})]})},U=n(57),X=n.n(U),q=n(193),G=n(21),V=n(198),Y=n(195);function Q(t){return Object(Z.jsx)(Y.a,Object(G.a)({elevation:6,variant:"filled"},t))}function $(){var t=Object(l.c)((function(t){return t.app.error}));console.log(t);var e=Object(l.b)(),n=function(t,n){"clickaway"!==n&&e(B({error:null}))};return Object(Z.jsx)(V.a,{open:null!==t,autoHideDuration:6e3,onClose:n,children:Object(Z.jsx)(Q,{onClose:n,severity:"error",children:t})})}var tt=n(191),et=n(190),nt=n(144),at=n(16),it=Object(g.b)({name:"todos",initialState:[],reducers:{addTodolist:function(t,e){t.unshift(Object(G.a)(Object(G.a)({},e.payload.todolists),{},{filter:"all",entityStatus:"idle"}))},removeTodolist:function(t,e){return t.filter((function(t){return t.id!==e.payload.todolistId}))},changeTodolistTitle:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].title=e.payload.title},changeTodolistFilter:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].filter=e.payload.filter},changeListEntity:function(t,e){var n=t.findIndex((function(t){return t.id===e.payload.id}));t[n].entityStatus=e.payload.status},setTodolists:function(t,e){return e.payload.todolists.map((function(t){return Object(G.a)(Object(G.a)({},t),{},{filter:"all",entityStatus:"idle"})}))}}}),st=it.reducer,rt=it.actions,ct=rt.addTodolist,ot=rt.removeTodolist,dt=rt.changeTodolistTitle,lt=rt.changeTodolistFilter,ut=rt.changeListEntity,jt=rt.setTodolists,ft=n(43),bt=n(194),pt=n(186),ht=n(189),mt=n(65),Ot=n.n(mt),gt=c.a.memo((function(t){var e=t.addTitle,n=t.name,a=t.type,i=t.placeholder,s=t.disabled,c=Object(r.useState)(!1),o=Object(ft.a)(c,2),d=o[0],l=o[1],u=[Ot.a.formButton];a&&u.push(Ot.a[a]);var j=Object(r.useState)(null),f=Object(ft.a)(j,2),b=f[0],p=f[1],h=Object(r.useState)(""),m=Object(ft.a)(h,2),O=m[0],g=m[1],x=function(){""!==O.trim()?(e(O),p(null)):p("Title is required"),g(""),l(!0)};return Object(Z.jsxs)("div",{className:Ot.a.AddFormWrap,children:[Object(Z.jsx)(bt.a,{variant:"standard",error:!!b,helperText:b,value:O,onChange:function(t){g(t.currentTarget.value),null!==b&&p(null)},onKeyDown:function(t){"Enter"===t.key&&x(),"Escape"===t.key&&g(""),l(!0)},style:{width:"80%"},placeholder:i,disabled:s,autoFocus:d}),Object(Z.jsxs)(pt.a,{disabled:s,color:"primary",onClick:x,children:[Object(Z.jsx)(ht.a,{}),n]})]})})),xt=n(92),yt=n.n(xt),vt=function(t){var e=t.changeFilterClick,n=t.active,a=[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Completed",value:"completed"}].map((function(t){var a=t.label,i=t.value,s=n===i?yt.a.Active:"";return Object(Z.jsx)(f.a,{className:s,onClick:function(){return function(t){e(t)}(i)},color:"primary",variant:"outlined",children:a},i)}));return Object(Z.jsx)(et.a,{container:!0,justify:"space-between",style:{width:"100%",marginTop:"20px"},children:a})},kt=n(72),It=n.n(kt),Ct=c.a.memo((function(t){var e=t.value,n=t.changeTitle,a=t.type,i=t.disabled,s=Object(r.useState)(!1),c=Object(ft.a)(s,2),o=c[0],d=c[1],l=Object(r.useState)(e),u=Object(ft.a)(l,2),j=u[0],f=u[1],b=[It.a.Span];a&&b.push(It.a[a]);var p=Object(r.useCallback)((function(){""!==j.trim()&&n&&n(j)}),[n,j]),h=function(){p(),d(!1)};return Object(Z.jsx)(Z.Fragment,{children:o?Object(Z.jsx)(bt.a,{disabled:i,variant:"standard",type:"text",value:j,autoFocus:!0,onBlur:h,onChange:function(t){f(t.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&h(),"Escape"===t.key&&(f(e),d(!1))}}):Object(Z.jsx)("span",{onDoubleClick:function(){d(!0)},className:b.join(" "),children:e})})})),Tt=n(196),wt=n(62),_t=n.n(wt),St=Object(g.b)({name:"todos",initialState:{},reducers:{setTasks:function(t,e){t[e.payload.todolistId]=e.payload.tasks},deleteTask:function(t,e){var n=t[e.payload.todolistId],a=n.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&n.splice(a,1)},addNewTask:function(t,e){t[e.payload.task.todoListId].unshift(e.payload.task)},changeTaskStatus:function(t,e){var n=t[e.payload.todolistId],a=n.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(n[a].status=e.payload.status)},changeTaskTitle:function(t,e){var n=t[e.payload.todolistId],a=n.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(n[a].title=e.payload.title)},changeTaskEntity:function(t,e){var n=t[e.payload.todoId],a=n.findIndex((function(t){return t.id===e.payload.id}));a>-1&&(n[a].entityStatus=e.payload.enStatus)}},extraReducers:function(t){t.addCase(ot,(function(t,e){delete t[e.payload.todolistId]})),t.addCase(ct,(function(t,e){t[e.payload.todolists.id]=[]})),t.addCase(jt,(function(t,e){e.payload.todolists.forEach((function(e){return t[e.id]=[]}))}))}}),At=St.reducer,Et=St.actions,Lt=Et.setTasks,Ft=Et.deleteTask,Nt=Et.changeTaskStatus,Pt=Et.changeTaskTitle,Dt=Et.changeTaskEntity,zt=Et.addNewTask,Bt=function(t,e,n){return function(i,s){var r=s().tasks[e].find((function(e){return e.id===t}));if(r){var c="string"===typeof n?n:null,o="number"===typeof n?n:a.New;i(Dt({id:t,enStatus:"loading",todoId:e})),i(M({status:"loading"})),S(e,t,{title:null===c?r.title:c,startDate:r.startDate,priority:r.priority,description:r.description,deadline:r.deadline,status:null===o?r.status:o}).then((function(n){0===n.resultCode?(null!==o&&i(Nt({taskId:t,status:o,todolistId:e})),null!==c&&i(Pt({taskId:t,title:c,todolistId:e})),i(M({status:"succeeded"}))):F(n,i)})).catch((function(t){N({message:t.message},i)})).finally((function(){return i(Dt({id:t,enStatus:"idle",todoId:e}))}))}}},Mt=c.a.memo((function(t){var e=t.id,n=t.title,i=t.status,s=t.todoListId,c=t.entityStatus,o=Object(l.b)(),d=i===a.Completed&&X.a.isDone,u=Object(r.useCallback)((function(t){o(Bt(e,s,t.currentTarget.checked?a.Completed:a.New))}),[e,s]),j=Object(r.useCallback)((function(t){o(Bt(e,s,t))}),[o,s]);return Object(Z.jsxs)(nt.a,{className:X.a.Paper+" "+d,elevation:3,style:{padding:"5px 5px 5px 0"},children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)(Tt.a,{checked:i===a.Completed,onChange:u,color:"primary",inputProps:{"aria-label":"secondary checkbox"},disabled:"loading"===c}),Object(Z.jsx)(Ct,{value:n,changeTitle:j,type:"listItem",disabled:"loading"===c})]}),Object(Z.jsx)(f.a,{variant:"outlined",size:"small",color:"secondary",startIcon:Object(Z.jsx)(_t.a,{}),onClick:function(){var t,n;o((t=s,n=e,function(e){e(Dt({id:n,enStatus:"loading",todoId:t})),e(M({status:"loading"})),w(t,n).then((function(a){0===a.data.resultCode&&(e(Ft({todolistId:t,taskId:n})),e(M({status:"succeeded"})))})).catch((function(t){N({message:t.message},e)})).finally((function(){return e(Dt({id:n,enStatus:"idle",todoId:t}))}))}))},disabled:"loading"===c,children:"task"})]})})),Jt=c.a.memo((function(t){var e=t.title,n=t.tasks,i=t.active,s=t.todoListId,c=t.entityStatus,o=Object(l.b)();Object(r.useEffect)((function(){o(function(t){return function(e){e(M({status:"loading"})),T(t).then((function(n){var a=n.data.items;e(Lt({todolistId:t,tasks:a})),e(M({status:"succeeded"}))})).catch((function(t){N({message:t.message},e)}))}}(s))}),[]);var d=Object(r.useCallback)((function(t){o(lt({id:s,filter:t}))}),[o,s]),u=Object(r.useCallback)((function(){var t;o((t=s,function(e){e(ut({id:t,status:"loading"})),e(M({status:"loading"})),I(t).then((function(n){0===n.data.resultCode&&(e(ot({todolistId:t})),e(M({status:"succeeded"})))})).catch((function(t){N({message:t.message},e)}))}))}),[o,s]),j=Object(r.useCallback)((function(t){var e,n;o((e=s,n=t,function(t){t(ut({id:e,status:"loading"})),t(M({status:"loading"})),_(e,n).then((function(n){0===n.resultCode?(t(zt({task:n.data.item})),t(M({status:"succeeded"})),t(ut({id:e,status:"idle"}))):F(n,t)})).catch((function(n){N({message:n.message},t),t(ut({id:e,status:"idle"}))})).finally((function(){return t(ut({id:e,status:"idle"}))}))}))}),[o,s]),b=Object(r.useCallback)((function(t){o(function(t,e){return function(n){n(M({status:"loading"})),C(e,t).then((function(a){0===a.resultCode?(n(dt({id:e,title:t})),n(M({status:"succeeded"}))):F(a,n),n(M({status:"succeeded"}))})).catch((function(t){N({message:t.message},n)}))}}(t,s))}),[o,s]),p=function(t,e){switch(e){case"all":return t;case"active":return t.filter((function(t){return t.status===a.New}));case"completed":return t.filter((function(t){return t.status===a.Completed}));default:return t}}(n,i).map((function(t){var e=Object.assign({},t);return Object(Z.jsx)(Mt,Object(G.a)({},e),e.id)}));return Object(Z.jsxs)(et.a,{container:!0,children:[Object(Z.jsxs)(et.a,{item:!0,xs:!0,children:[Object(Z.jsx)(Ct,{value:e,changeTitle:b,type:"header"}),Object(Z.jsx)(f.a,{variant:"outlined",color:"secondary",size:"medium",startIcon:Object(Z.jsx)(_t.a,{}),onClick:u,style:{marginLeft:"30px"},disabled:"loading"===c,children:"list"})]}),Object(Z.jsx)(gt,{addTitle:j,name:"task",placeholder:"type your task name",disabled:"loading"===c}),Object(Z.jsx)(et.a,{item:!0,style:{width:"100%"},children:p}),Object(Z.jsx)(vt,{changeFilterClick:d,active:i})]})})),Ht=function(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.todolists})),n=Object(l.c)((function(t){return t.tasks})),a=Object(l.c)((function(t){return t.auth.isLoggedIn}));Object(r.useEffect)((function(){t((function(t){t(M({status:"loading"})),v().then((function(e){t(jt({todolists:e})),t(M({status:"succeeded"}))})).catch((function(e){N({message:e.message},t)}))}))}),[]);var i=Object(r.useCallback)((function(e){t(function(t){return function(e){e(M({status:"loading"})),k(t).then((function(t){0===t.resultCode?(e(ct({todolists:t.data.item})),e(M({status:"succeeded"}))):F(t,e),e(M({status:"succeeded"}))})).catch((function(t){N({message:t.message},e)}))}}(e))}),[t]);return a?Object(Z.jsxs)(tt.a,{fixed:!0,children:[Object(Z.jsx)(et.a,{container:!0,style:{padding:"30px",justifyContent:"center"},children:Object(Z.jsx)(gt,{addTitle:i,name:"todo",placeholder:"Type todo name to start"})}),Object(Z.jsx)(et.a,{container:!0,spacing:3,style:{marginTop:"50px"},direction:"row",justify:"space-between",children:e.map((function(t){return Object(Z.jsx)(et.a,{item:!0,style:{width:"500px"},children:Object(Z.jsx)(nt.a,{style:{padding:"10px"},children:Object(Z.jsx)(Jt,{todoListId:t.id,title:t.title,tasks:n[t.id],active:t.filter,entityStatus:t.entityStatus},t.id)})},t.id)}))})]}):Object(Z.jsx)(at.a,{to:"/login"})},Rt=n(187),Wt=n(188),Zt=n(95),Kt=function(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.auth.isLoggedIn})),n=Object(Zt.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",t.password.length<2&&(e.password="Too Short password"),e},onSubmit:function(e){var a,i,s;t((a=e.email,i=e.password,s=e.rememberMe,function(t){t(M({status:"loading"})),A(a,i,s).then((function(e){0===e.resultCode?(t(M({status:"succeeded"})),t(W({value:!0}))):F(e,t)})).catch((function(e){N(e,t)}))})),n.resetForm()}});return e?Object(Z.jsx)(at.a,{to:"/"}):Object(Z.jsx)(et.a,{container:!0,justify:"center",children:Object(Z.jsx)(et.a,{item:!0,xs:4,children:Object(Z.jsx)("form",{onSubmit:n.handleSubmit,children:Object(Z.jsxs)(Rt.a,{children:[Object(Z.jsxs)(Wt.a,{children:[Object(Z.jsxs)("p",{children:["To log in get registered\u2002",Object(Z.jsx)("a",{href:"https://social-network.samuraijs.com/ ",target:"_blank",children:"here"})]}),Object(Z.jsx)("p",{children:"or use common test account credentials:"}),Object(Z.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(Z.jsx)("p",{children:"Password: free"})]}),Object(Z.jsxs)(p.a,{children:[Object(Z.jsx)(bt.a,Object(G.a)(Object(G.a)({label:"Email",margin:"normal"},n.getFieldProps("email")),{},{onBlur:n.handleBlur})),n.errors.email&&n.touched.email?Object(Z.jsx)("div",{style:{color:"red"},children:n.errors.email}):null,Object(Z.jsx)(bt.a,Object(G.a)(Object(G.a)({type:"password",label:"Password",margin:"normal"},n.getFieldProps("password")),{},{onBlur:n.handleBlur})),n.errors.password&&n.touched.password?Object(Z.jsx)("div",{style:{color:"red"},children:n.errors.password}):null,Object(Z.jsx)(h.a,{label:"Remember me",control:Object(Z.jsx)(Tt.a,Object(G.a)({},n.getFieldProps("rememberMe")))}),Object(Z.jsx)(f.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})},Ut=n(192),Xt=n.p+"static/media/404-error.7e12d563.png",qt=function(){return Object(Z.jsx)(tt.a,{children:Object(Z.jsx)(et.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"80vh"},children:Object(Z.jsx)(Ut.a,{component:"img",alt:"404",image:Xt,title:"404",style:{height:"500px"}})})})};var Gt=function(){var t=Object(l.b)();Object(r.useEffect)((function(){t((function(t){t(J({init:!1})),E().then((function(e){0===e.resultCode?t(W({value:!0})):F(e,t),t(J({init:!0}))})).catch((function(e){N(e,t)}))}))}),[]);var e=Object(l.c)((function(t){return t.app.status})),n=Object(l.c)((function(t){return t.app.isInitialized}));return console.log(n),Object(Z.jsxs)("div",{className:X.a.App,children:[Object(Z.jsx)(K,{}),Object(Z.jsx)($,{}),"loading"===e&&Object(Z.jsx)(q.a,{color:"primary",variant:"indeterminate",style:{height:"10px",backgroundColor:"#abe9cd",backgroundImage:"linear-gradient(315deg, #abe9cd 0%, #3eadcf 74%)"}}),Object(Z.jsxs)(at.d,{children:[Object(Z.jsx)(at.b,{exact:!0,path:"/",render:function(){return Object(Z.jsx)(Ht,{})}}),Object(Z.jsx)(at.b,{exact:!0,path:"/login",render:function(){return Object(Z.jsx)(Kt,{})}}),Object(Z.jsx)(at.b,{path:"*",render:function(){return Object(Z.jsx)(qt,{})}}),Object(Z.jsx)(at.a,{from:"*",to:"/404"})]})]})},Vt=n(24),Yt=n(53),Qt=Object(Vt.c)({tasks:At,todolists:st,app:D,auth:R}),$t=Object(g.a)({reducer:Qt,middleware:function(t){return t().prepend(Yt.a)}}),te=n(52);d.a.render(Object(Z.jsx)(c.a.StrictMode,{children:Object(Z.jsx)(l.a,{store:$t,children:Object(Z.jsx)(te.a,{children:Object(Z.jsx)(Gt,{})})})}),document.getElementById("root"))},57:function(t,e,n){t.exports={App:"App_App__3V4x_",Paper:"App_Paper__2iAW7",isDone:"App_isDone__e5G6X"}},65:function(t,e,n){t.exports={formButton:"form_formButton__XdhYI",AddFormWrap:"form_AddFormWrap__3Z7_S",error:"form_error__1w2Gi",Error:"form_Error__2lJnA",large:"form_large__2FEnX"}},72:function(t,e,n){t.exports={Span:"title_Span__12Jba",header:"title_header__7MTwh",listItem:"title_listItem__ndEex"}},92:function(t,e,n){t.exports={Active:"buttons_Active__22bQJ"}}},[[143,1,2]]]);
//# sourceMappingURL=main.e6e3fe1d.chunk.js.map